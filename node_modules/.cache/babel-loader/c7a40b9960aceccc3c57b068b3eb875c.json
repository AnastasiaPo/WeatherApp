{"ast":null,"code":"var xhr;\nexport var makeRequest = function (method, endpoint, data, onReceiveData) {\n  if (xhr) {\n    xhr.abort();\n  }\n\n  xhr = new XMLHttpRequest();\n  xhr.open(method, endpoint);\n\n  if (data.headers) {\n    for (var header in data.headers) {\n      if (data.headers[header]) {\n        xhr.setRequestHeader(header, data.headers[header]);\n      }\n    }\n  }\n\n  xhr.send(JSON.stringify(data.json));\n\n  xhr.onreadystatechange = function () {\n    if (!xhr || xhr.readyState !== 4) {\n      return;\n    }\n\n    if (xhr.status === 200) {\n      var responseJson = JSON.parse(xhr.response);\n\n      if (responseJson && responseJson.suggestions) {\n        onReceiveData(responseJson.suggestions);\n      }\n    }\n  };\n};","map":{"version":3,"sources":["/Users/a.ponkrashenkova/Desktop/weather/node_modules/react-dadata/dist/esm/request.js"],"names":["xhr","makeRequest","method","endpoint","data","onReceiveData","abort","XMLHttpRequest","open","headers","header","setRequestHeader","send","JSON","stringify","json","onreadystatechange","readyState","status","responseJson","parse","response","suggestions"],"mappings":"AAAA,IAAIA,GAAJ;AACA,OAAO,IAAIC,WAAW,GAAG,UAAUC,MAAV,EAAkBC,QAAlB,EAA4BC,IAA5B,EAAkCC,aAAlC,EAAiD;AACtE,MAAIL,GAAJ,EAAS;AACLA,IAAAA,GAAG,CAACM,KAAJ;AACH;;AACDN,EAAAA,GAAG,GAAG,IAAIO,cAAJ,EAAN;AACAP,EAAAA,GAAG,CAACQ,IAAJ,CAASN,MAAT,EAAiBC,QAAjB;;AACA,MAAIC,IAAI,CAACK,OAAT,EAAkB;AACd,SAAK,IAAIC,MAAT,IAAmBN,IAAI,CAACK,OAAxB,EAAiC;AAC7B,UAAIL,IAAI,CAACK,OAAL,CAAaC,MAAb,CAAJ,EAA0B;AACtBV,QAAAA,GAAG,CAACW,gBAAJ,CAAqBD,MAArB,EAA6BN,IAAI,CAACK,OAAL,CAAaC,MAAb,CAA7B;AACH;AACJ;AACJ;;AACDV,EAAAA,GAAG,CAACY,IAAJ,CAASC,IAAI,CAACC,SAAL,CAAeV,IAAI,CAACW,IAApB,CAAT;;AACAf,EAAAA,GAAG,CAACgB,kBAAJ,GAAyB,YAAY;AACjC,QAAI,CAAChB,GAAD,IAAQA,GAAG,CAACiB,UAAJ,KAAmB,CAA/B,EAAkC;AAC9B;AACH;;AACD,QAAIjB,GAAG,CAACkB,MAAJ,KAAe,GAAnB,EAAwB;AACpB,UAAIC,YAAY,GAAGN,IAAI,CAACO,KAAL,CAAWpB,GAAG,CAACqB,QAAf,CAAnB;;AACA,UAAIF,YAAY,IAAIA,YAAY,CAACG,WAAjC,EAA8C;AAC1CjB,QAAAA,aAAa,CAACc,YAAY,CAACG,WAAd,CAAb;AACH;AACJ;AACJ,GAVD;AAWH,CAzBM","sourcesContent":["var xhr;\nexport var makeRequest = function (method, endpoint, data, onReceiveData) {\n    if (xhr) {\n        xhr.abort();\n    }\n    xhr = new XMLHttpRequest();\n    xhr.open(method, endpoint);\n    if (data.headers) {\n        for (var header in data.headers) {\n            if (data.headers[header]) {\n                xhr.setRequestHeader(header, data.headers[header]);\n            }\n        }\n    }\n    xhr.send(JSON.stringify(data.json));\n    xhr.onreadystatechange = function () {\n        if (!xhr || xhr.readyState !== 4) {\n            return;\n        }\n        if (xhr.status === 200) {\n            var responseJson = JSON.parse(xhr.response);\n            if (responseJson && responseJson.suggestions) {\n                onReceiveData(responseJson.suggestions);\n            }\n        }\n    };\n};\n"]},"metadata":{},"sourceType":"module"}